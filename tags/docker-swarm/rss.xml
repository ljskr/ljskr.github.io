<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Docker Swarm on 咕噜猫小站</title><link>/tags/docker-swarm/</link><description>Recent content in Docker Swarm on 咕噜猫小站</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Thu, 31 Oct 2019 15:01:00 +0800</lastBuildDate><atom:link href="/tags/docker-swarm/rss.xml" rel="self" type="application/rss+xml"/><item><title>Docker Swarm 集群使用备忘</title><link>/post/docker/docker_swarm_usage/</link><pubDate>Thu, 31 Oct 2019 15:01:00 +0800</pubDate><guid>/post/docker/docker_swarm_usage/</guid><description>&lt;h1 id="docker-swarm-集群使用备忘"&gt;Docker Swarm 集群使用备忘
&lt;a class="header-anchor" href="#docker-swarm-%e9%9b%86%e7%be%a4%e4%bd%bf%e7%94%a8%e5%a4%87%e5%bf%98"&gt;&lt;/a&gt;
&lt;/h1&gt;&lt;h2 id="建立集群"&gt;建立集群
&lt;a class="header-anchor" href="#%e5%bb%ba%e7%ab%8b%e9%9b%86%e7%be%a4"&gt;&lt;/a&gt;
&lt;/h2&gt;&lt;h3 id="1-主-manager-初始化"&gt;1. 主 manager 初始化
&lt;a class="header-anchor" href="#1-%e4%b8%bb-manager-%e5%88%9d%e5%a7%8b%e5%8c%96"&gt;&lt;/a&gt;
&lt;/h3&gt;&lt;p&gt;主 manager 节点通过 &lt;code&gt;docker swarm init&lt;/code&gt; 初始化集群&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt" id="hl-0-1"&gt;&lt;a class="lnlinks" href="#hl-0-1"&gt;1&lt;/a&gt;
&lt;/span&gt;&lt;span class="lnt" id="hl-0-2"&gt;&lt;a class="lnlinks" href="#hl-0-2"&gt;2&lt;/a&gt;
&lt;/span&gt;&lt;span class="lnt" id="hl-0-3"&gt;&lt;a class="lnlinks" href="#hl-0-3"&gt;3&lt;/a&gt;
&lt;/span&gt;&lt;span class="lnt" id="hl-0-4"&gt;&lt;a class="lnlinks" href="#hl-0-4"&gt;4&lt;/a&gt;
&lt;/span&gt;&lt;span class="lnt" id="hl-0-5"&gt;&lt;a class="lnlinks" href="#hl-0-5"&gt;5&lt;/a&gt;
&lt;/span&gt;&lt;span class="lnt" id="hl-0-6"&gt;&lt;a class="lnlinks" href="#hl-0-6"&gt;6&lt;/a&gt;
&lt;/span&gt;&lt;span class="lnt" id="hl-0-7"&gt;&lt;a class="lnlinks" href="#hl-0-7"&gt;7&lt;/a&gt;
&lt;/span&gt;&lt;span class="lnt" id="hl-0-8"&gt;&lt;a class="lnlinks" href="#hl-0-8"&gt;8&lt;/a&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ manager1: docker swarm init --advertise-addr 192.168.1.101
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Swarm initialized: current node &lt;span class="o"&gt;(&lt;/span&gt;n0ub7dpn90rxjq97dr0g8we0w&lt;span class="o"&gt;)&lt;/span&gt; is now a manager.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;To add a worker to this swarm, run the following command:
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; docker swarm join --token SWMTKN-1-5uwpqibnvmho1png8zmhcw8274yanohee32jyrcjlait9djhsk-envtxo4dl6df2ar3qldcccfdg 192.168.1.101:2377
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;To add a manager to this swarm, run &lt;span class="s1"&gt;&amp;#39;docker swarm join-token manager&amp;#39;&lt;/span&gt; and follow the instructions.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;h3 id="2-worker-加入"&gt;2. worker 加入
&lt;a class="header-anchor" href="#2-worker-%e5%8a%a0%e5%85%a5"&gt;&lt;/a&gt;
&lt;/h3&gt;&lt;p&gt;其他 worker 节点通过给出的命令加入集群&lt;/p&gt;</description></item></channel></rss>